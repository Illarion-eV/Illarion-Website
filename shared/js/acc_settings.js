$(document).ready(function(){var e=0;var f=0;var c=function(k){var h=false;var i=false;if(typeof(RegExp)=="function"){var g=new RegExp("abc");if(g.test("abc")){h=true}}if(h){var j=new RegExp("^([a-zA-Z0-9\\-\\.\\_]+)(\\@)([a-zA-Z0-9\\-\\.\\_]+)(\\.)([a-zA-Z]{2,4})$");i=(j.test(k))}else{i=(k.search("@")>=1&&k.lastIndexOf(".")>k.search("@")&&k.lastIndexOf(".")>=k.length-5)}return(i)};var a=function(g,h){if(g.firstChild){g.replaceChild(h,g.firstChild)}else{g.appendChild(h)}};var d=function(){var h=$("#email").val();var g=$("#check_email")[0];var i=$("#submit");if(h.length===0){return true}if(!c(h)){a(g,document.createTextNode((cur_lang=="de"?"E-Mail Adresse ist ungültig":"E-Mail adress is invalid")));i.addClass("disabled");i[0].disabled=true;return true}e++;var j=url+"/community/account/func.register.php?action=check_email&value="+encodeURIComponent(h)+"&cnt="+e;$.ajax({url:j,type:"get",dataType:"script",success:function(n){var k=$("#check_email")[0];var l=$("#submit");var m=n.split("|");m[0]=parseInt(m[0],0);if(m[0]<f){return false}f=m[0];if(m[1]==1){a(k,document.createTextNode((cur_lang=="de"?"E-Mail Adresse ist in Ordnung":"E-Mail adress is okay")));l.removeClass("disabled");l[0].disabled=false}else{a(k,document.createTextNode((cur_lang=="de"?"E-Mail Adresse ist vergeben":"E-Mail adress is taken")));l.addClass("disabled");l[0].disabled=true}}})};$("#email").change(d);$("#email").keyup(d);var b=function(){var h=$("#submit");var j=$("#passwd").val();var i=$("#passwd2").val();var g=$("#check_passwd")[0];if(j.length===0){return true}else{if(j.length<5){a(g,document.createTextNode((cur_lang=="de"?"Passwort ist zu kurz":"Password is too short")));h.addClass("disabled");h[0].disabled=true}else{if(j.length>20){a(g,document.createTextNode((cur_lang=="de"?"Passwort ist zu lang":"Password is too long")));h.addClass("disabled");h[0].disabled=true}else{if(j==i){a(g,document.createTextNode((cur_lang=="de"?"Passwort ist in Ordnung":"Password is okay")));h.removeClass("disabled");h[0].disabled=false}else{a(g,document.createTextNode((cur_lang=="de"?"Passwörter sind nicht identisch":"Passwords are not identical")));h.addClass("disabled");h.disabled=true}}}}};$("#passwd").change(b);$("#passwd").keyup(b);$("#passwd2").change(b);$("#passwd2").keyup(b)});